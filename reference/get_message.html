<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Evaluate an instruction written between "" and return the first of the error message, or the last of the warning or standard (non error non warning) messages if ever exist.
Using argument print_no = FALSE, return NULL if no message, which is convenient in some cases.'><title>get_message — get_message • saferDev</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="get_message — get_message"><meta property="og:description" content='Evaluate an instruction written between "" and return the first of the error message, or the last of the warning or standard (non error non warning) messages if ever exist.
Using argument print_no = FALSE, return NULL if no message, which is convenient in some cases.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">saferDev</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/saferDev.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/all_args_here.html">all_args_here</a>
    <a class="dropdown-item" href="../articles/arg_check.html">arg_check</a>
    <a class="dropdown-item" href="../articles/arg_test.html">arg_test</a>
    <a class="dropdown-item" href="../articles/colons_check.html">colons_check</a>
    <a class="dropdown-item" href="../articles/env_check.html">env_check</a>
    <a class="dropdown-item" href="../articles/get_message.html">get_message</a>
    <a class="dropdown-item" href="../articles/is_function_here.html">is_function_here</a>
    <a class="dropdown-item" href="../articles/is_package_here.html">is_package_here</a>
    <a class="dropdown-item" href="../articles/report.html">report</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>get_message</h1>
      
      <div class="d-none name"><code>get_message.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Evaluate an instruction written between "" and return the first of the error message, or the last of the warning or standard (non error non warning) messages if ever exist.</p>
<p>Using argument print_no = FALSE, return NULL if no message, which is convenient in some cases.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_message</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  kind <span class="op">=</span> <span class="st">"error"</span>,</span>
<span>  header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  print_no <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  text <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  env <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  safer_check <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  lib_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  error_text <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Single character string to evaluate.</p></dd>


<dt>kind</dt>
<dd><p>Single character string. Either "error" to get error messages, or "warning" to get warning messages, or "message" to get non error and non warning messages.</p></dd>


<dt>header</dt>
<dd><p>Single logical value. Add a header in the returned message?</p></dd>


<dt>print_no</dt>
<dd><p>Single logical value. Print a message saying that no message reported?</p></dd>


<dt>text</dt>
<dd><p>Single character string added to the output message (even if no message exists and print_no is TRUE). Inactivated if the header argument is FALSE. Write NULL if not required.</p></dd>


<dt>env</dt>
<dd><p>The name of an existing environment. Write NULL if not required.</p></dd>


<dt>safer_check</dt>
<dd><p>Single logical value. Perform some "safer" checks? If TRUE, checkings are performed before main code running (see https://github.com/safer-r): 1) correct lib_path argument value 2) required functions and related packages effectively present in local R lybraries and 3) R classical operators (like "&lt;-") not overwritten by another package because of the R scope. Must be set to FALSE if this fonction is used inside another "safer" function to avoid pointless multiple checkings.</p></dd>


<dt>lib_path</dt>
<dd><p>Vector of characters specifying the absolute pathways of the directories containing the required packages for the function, if not in the default directories. Useful when R package are not installed in the default directories because of lack of admin rights.  More precisely, lib_path is passed through the new argument of .libPaths() so that the new library paths are unique(c(new, .Library.site, .Library)). Warning: .libPaths() is restored to the initial paths, after function execution. Ignored if NULL (default) or if the safer_check argument is FALSE: only the pathways specified by the current .libPaths() are used for package calling.</p></dd>


<dt>error_text</dt>
<dd><p>Single character string used to add information in error messages returned by the function, notably if the function is inside other functions, which is practical for debugging. Example: error_text = " INSIDE &lt;PACKAGE_1&gt;::&lt;FUNCTION_1&gt; INSIDE &lt;PACKAGE_2&gt;::&lt;FUNCTION_2&gt;.". If NULL, converted into "".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The message or NULL if no message and print_no is FALSE.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>WARNINGS</p>
<p>Only the first standard/error/warning message is returned.</p>
<p>Always use the env argument when get_message() is used inside functions.</p>
<p>The function does not prevent printing if print() is used inside the instruction tested. To prevent that, use tempo &lt;- utils::capture.output(error &lt;- get_message(data = "arg_check(data = 'a', class = mean, neg_values = FALSE, print = TRUE)")). The return of get_message() is assigned into error and the printed messages are captured by utils::capture.output() and assigned into tempo. See the examples.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></code>.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><a href="gael.millot@pasteur.fr">Gael Millot</a></p>
<p><a href="yushi.han2000@gmail.com">Yushi Han</a></p>
<p><a href="wanghaiding442@gmail.com">Haiding Wang</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"wilcox.test(c(1,1,3), c(1, 2, 4), paired = TRUE)"</span>, kind <span class="op">=</span> <span class="st">"error"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO ERROR MESSAGE REPORTED IN A"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"wilcox.test(c(1,1,3), c(1, 2, 4), paired = TRUE)"</span>, kind <span class="op">=</span> <span class="st">"warning"</span>, </span></span>
<span class="r-in"><span>print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "WARNING MESSAGE REPORTED IN A:\nIn wilcox.test.default(c(1, 1, 3), c(1, 2, 4), paired = TRUE): cannot compute exact p-value with zeroes\n"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"wilcox.test(c(1,1,3), c(1, 2, 4), paired = TRUE)"</span>, kind <span class="op">=</span> <span class="st">"message"</span>, </span></span>
<span class="r-in"><span>print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO STANDARD MESSAGE REPORTED IN A"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"wilcox.test()"</span>, kind <span class="op">=</span> <span class="st">"message"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO POTENTIAL STANDARD MESSAGE BECAUSE OF ERROR MESSAGE REPORTED IN A"</span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"wilcox.test()"</span>, kind <span class="op">=</span> <span class="st">"error"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ERROR MESSAGE REPORTED IN A:\nIn wilcox.test.default() : argument \"x\" is missing, with no default\n"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"sum(1)"</span>, kind <span class="op">=</span> <span class="st">"error"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO ERROR MESSAGE REPORTED IN A"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"message('ahah')"</span>, kind <span class="op">=</span> <span class="st">"error"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO ERROR MESSAGE REPORTED IN A"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"message('ahah')"</span>, kind <span class="op">=</span> <span class="st">"message"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"IN A"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ahah</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO STANDARD MESSAGE REPORTED IN A"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_message</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"ggplot2::ggplot(data = data.frame(X = 1:10, stringsAsFactors = TRUE), </span></span></span>
<span class="r-in"><span><span class="st">mapping = ggplot2::aes(x = X)) + ggplot2::geom_histogram()"</span>, kind <span class="op">=</span> <span class="st">"message"</span>, print_no <span class="op">=</span> <span class="cn">TRUE</span>, </span></span>
<span class="r-in"><span>text <span class="op">=</span> <span class="st">"IN INSTRUCTION 1"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "NO STANDARD MESSAGE REPORTED IN INSTRUCTION 1"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/Tintin2710" class="external-link">Haiding Wang</a>, Gael Millot.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

